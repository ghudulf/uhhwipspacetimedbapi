// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

#nullable enable

using System;
using SpacetimeDB.ClientApi;
using System.Collections.Generic;
using System.Runtime.Serialization;

namespace SpacetimeDB.Types
{
    public sealed partial class RemoteReducers : RemoteBase
    {
        public delegate void CreateSaleHandler(ReducerEventContext ctx, uint ticketId, string buyerName, string buyerPhone, string? saleLocation, string? saleNotes);
        public event CreateSaleHandler? OnCreateSale;

        public void CreateSale(uint ticketId, string buyerName, string buyerPhone, string? saleLocation, string? saleNotes)
        {
            conn.InternalCallReducer(new Reducer.CreateSale(ticketId, buyerName, buyerPhone, saleLocation, saleNotes), this.SetCallReducerFlags.CreateSaleFlags);
        }

        public bool InvokeCreateSale(ReducerEventContext ctx, Reducer.CreateSale args)
        {
            if (OnCreateSale == null) return false;
            OnCreateSale(
                ctx,
                args.TicketId,
                args.BuyerName,
                args.BuyerPhone,
                args.SaleLocation,
                args.SaleNotes
            );
            return true;
        }
    }

    public abstract partial class Reducer
    {
        [SpacetimeDB.Type]
        [DataContract]
        public sealed partial class CreateSale : Reducer, IReducerArgs
        {
            [DataMember(Name = "ticketId")]
            public uint TicketId;
            [DataMember(Name = "buyerName")]
            public string BuyerName;
            [DataMember(Name = "buyerPhone")]
            public string BuyerPhone;
            [DataMember(Name = "saleLocation")]
            public string? SaleLocation;
            [DataMember(Name = "saleNotes")]
            public string? SaleNotes;

            public CreateSale(
                uint TicketId,
                string BuyerName,
                string BuyerPhone,
                string? SaleLocation,
                string? SaleNotes
            )
            {
                this.TicketId = TicketId;
                this.BuyerName = BuyerName;
                this.BuyerPhone = BuyerPhone;
                this.SaleLocation = SaleLocation;
                this.SaleNotes = SaleNotes;
            }

            public CreateSale()
            {
                this.BuyerName = "";
                this.BuyerPhone = "";
            }

            string IReducerArgs.ReducerName => "CreateSale";
        }
    }

    public sealed partial class SetReducerFlags
    {
        internal CallReducerFlags CreateSaleFlags;
        public void CreateSale(CallReducerFlags flags) => CreateSaleFlags = flags;
    }
}
